<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <title>神经生物学专题练习</title>
    <style>
        :root {
            --primary: #4CAF50;
            --secondary: #2196F3;
            --background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
        }

        body {
            font-family: 'Segoe UI', Arial, sans-serif;
            margin: 0;
            min-height: 100vh;
            background: var(--background);
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }

        .container {
            width: 90%;
            max-width: 800px;
            margin: 2rem auto;
            padding: 2rem;
            background: rgba(255,255,255,0.95);
            border-radius: 15px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.1);
        }

        .question {
            margin-bottom: 2rem;
            border-left: 4px solid var(--secondary);
            padding-left: 1rem;
        }

        .options {
            margin: 1.5rem 0;
        }

        .option {
            margin: 0.8rem 0;
            padding: 12px;
            border: 2px solid #ddd;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .option:hover {
            transform: translateX(10px);
            border-color: var(--primary);
        }

        .selected {
            background-color: #e3f2fd;
            border-color: var(--secondary);
        }

        button {
            padding: 10px 25px;
            margin: 0 10px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .nav-buttons {
            margin-top: 2rem;
            display: flex;
            justify-content: center;
            gap: 1rem;
        }

        .submit-btn {
            background: var(--primary);
            color: white;
        }

        .answer {
            margin-top: 1rem;
            padding: 1rem;
            background: #f8f9fa;
            border-radius: 8px;
            display: none;
        }

        .correct { color: #4CAF50; }
        .wrong { color: #f44336; }

        .complete-page {
            text-align: center;
            font-size: 2em;
            color: var(--primary);
            padding: 2rem;
            display: none;
        }

        .fireworks {
            font-size: 3em;
            animation: bounce 1s infinite;
        }

        /* 新增换行样式 */
        .explanation {
            white-space: pre-line;
            line-height: 1.6;
            padding: 10px;
            background: #f8f9fa;
            border-radius: 8px;
            margin-top: 10px;
        }

        /* 优化表格样式 */

        .question table {

            width: 100%;

            margin: 1rem 0;

            border-collapse: collapse;

            border: 2px solid #555; /* 外边框加粗 */

        }

               .question th, .question td {

            padding: 12px;

            text-align: center; /* 内容居中 */

            border: 1px solid #888; /* 所有单元格边框 */

        }

        .question th {

            background-color: #e9ecef;

            font-weight: bold;

        }

        /* 单元格悬停效果 */

        .question td:hover {

            background-color: #f8f9fa;

        }

        /* 表格标题样式 */

        .question table caption {

            font-weight: bold;

            margin-bottom: 8px;

            font-size: 1.1em;

        }

        /* 表格内容样式 */

        .question table td {

            font-family: 'Courier New', monospace;

        }

        /* 表格响应式设计 */

        @media (max-width: 600px) {

            .question table {

                font-size: 0.9em;

            }

            .question th, .question td {

                padding: 8px;

            }

        }

        /* 表格加载动画 */

        @keyframes fadeIn {

            from { opacity: 0; transform: translateY(10px); }

            to { opacity: 1; transform: translateY(0); }

        }

        .question table {

            animation: fadeIn 0.5s ease forwards;

        }


        @keyframes bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
    </style>
</head>
<body>
    <div class="container" id="questionContainer"></div>
    <div class="complete-page" id="completePage">
        <div class="fireworks">🎉</div>
        <h2>恭喜完成所有题目！</h2>
    </div>

    <script>
        // 完整的27道题目数据
        const questions = [
            {
                type: 'choice',
                content: "1．短跑比赛中，运动员听到发令枪响后迅速起跑。这一过程中，神经细胞膜内外的电位变化主要依赖哪种离子的流动？",
                options: ["A. Na⁺内流", "B. K⁺外流", "C. Cl⁻内流", "D. Ca²⁺外流"],
                answer: 0,
                explanation: "正确解析：运动员听到枪声后，神经细胞产生动作电位，主要由电压门控Na⁺通道开放导致Na⁺快速内流，引发膜内外电位反转（内正外负）。<br><br>错误选项分析：<br><br>B. K⁺外流是静息电位形成的主要机制，而非动作电位。<br><br>C. Cl⁻内流通常与抑制性突触后电位相关，与动作电位无关。<br><br>D. Ca²⁺外流主要参与突触小泡释放神经递质的过程，不直接引发动作电位。"
            },
            {
                type: 'choice',
                content: "2．小明被针刺后迅速缩手，此时他的神经纤维兴奋部位膜内外电位表现为（　）。",
                options: ["A. 内正外正", "B. 内负外正", "C. 内正外负", "D. 内负外负"],
                answer: 2,
                explanation: "正确解析：神经纤维兴奋时，Na⁺内流导致膜内电位由负变正，形成动作电位（内正外负）。<br><br>错误选项分析：<br><br>A. 内正外正不符合任何电位状态。<br><br>B. 内负外正是静息电位的表现。<br><br>D. 内负外负不存在于正常生理状态中。"
            },
            {
                type: 'choice',
                content: "3.医生为患者注射普鲁卡因（钠通道阻断剂）进行局部麻醉。该药物主要影响神经细胞的哪个阶段？ ",
                options: ["A. 静息电位维持", "B. 动作电位产生", "C. 复极化过程", "D. 超极化恢复"],
                answer: 1,
                explanation: '正确解析：普鲁卡因通过阻断电压门控Na⁺通道，抑制Na⁺内流，从而阻止动作电位的产生，达到麻醉效果。<br><br>错误选项分析：<br><br>A. 静息电位由K⁺外流维持，与Na⁺通道无关。<br><br>C. 复极化依赖K⁺外流，钠通道阻断剂不影响此过程。<br><br>D. 超极化是复极化后的短暂状态，与药物作用无关。'
            },
            {
                type: 'essay',
                content: "4.某同学在生物实验课上使用PHET软件模拟神经纤维的膜电位变化，观察到以下现象：<br><br>① 静息时：膜外电位显著高于膜内（外正内负）；<br><br>② 施加刺激后：膜内电位迅速上升，短暂超过膜外电位（内正外负）；<br><br>③ 刺激结束后：膜内电位逐渐下降，最终恢复至静息水平。<br><br>请结合离子流动机制回答：<br><br>上述三个阶段分别对应神经冲动的哪些电位变化？<br><br>解释每个阶段膜电位变化的离子基础。",
                explanation: "答案：①静息电位 → ②动作电位（去极化和反极化） → ③复极化<br><br>静息电位：K⁺外流（协助扩散），膜内负外正；<br><br>动作电位：Na⁺内流（电压门控通道开放），膜内正外负；<br><br>复极化：K⁺外流（通道延迟开放），恢复静息电位。<br><br>解析：<br><br>阶段对应关系：<br><br>①静息电位是未受刺激时的稳定状态，由K⁺外流维持；<br><br>②动作电位包括去极化（Na⁺内流）和反极化（Na⁺内流达峰值）；<br><br>③复极化依赖K⁺外流，使膜电位恢复至静息水平。<br><br>离子流动机制：<br><br>静息电位：膜对K⁺通透性高，K⁺顺浓度梯度外流，形成内负外正电位差（-70mV）。<br><br>动作电位：<br><br>刺激打开电压门控Na⁺通道 → Na⁺快速内流 → 膜内电位上升（去极化）；<br><br>当膜内电位超过阈值（约-55mV），大量Na⁺内流 → 反极化（+30mV）。<br><br>复极化：<br><br>Na⁺通道关闭，K⁺通道开放 → K⁺外流 → 膜内电位下降；<br><br>钠钾泵主动运输（3Na⁺出、2K⁺入），恢复离子浓度差。"
            },
            {
                type: 'essay',
                content: "5.长期缺钾的患者可能出现肌肉无力。结合静息电位形成机制，解释可能原因。 ",
                explanation: "答案：静息电位依赖K⁺外流，缺钾导致膜内外浓度差减小，静息电位稳定性下降，神经兴奋传导受阻。  <br><br>解析：<br><br>正确解析：<br><br>静息电位由K⁺外流形成，K⁺浓度差减小会导致静息电位绝对值降低。<br><br>膜电位不稳定时，神经元难以正常产生和传导动作电位，导致肌肉收缩无力。<br><br>错误分析：可能误认为Na⁺或Cl⁻参与静息电位形成（实际由K⁺主导）。"
            },
            {
                type: 'choice',
                content: "6.某实验中，刺激枪乌贼巨大轴突后，膜电位峰值低于正常值。推测可能的原因。",
                options: ["A. 细胞外Na⁺浓度过低", "B. 细胞内K⁺浓度过高", "C. 钠钾泵活性增强", "D. 温度过低影响通道开放"],
                answer: 0,
                explanation: "正确解析：动作电位幅度与细胞外Na⁺浓度正相关。若细胞外Na⁺浓度过低，Na⁺内流减少，导致峰值降低。<br><br>错误选项分析：<br><br>B. 细胞内K⁺浓度过高主要影响静息电位，而非动作电位幅度。<br><br>C. 钠钾泵活性增强会加速复极化，但不影响动作电位峰值。<br><br>D. 温度过低可能延缓通道开放速度，但不会显著降低峰值。"
            },
            {
                type: 'essay',
                content: "7.马拉松运动员在比赛中会因大量出汗导致电解质流失。分析其神经冲动的传导可能受到哪些影响？  ",
                explanation: "答案：1. 细胞外Na⁺减少 → 动作电位幅度降低 → 信号传递减弱；  <br><br>2. 细胞内K⁺流失 → 静息电位难以维持 → 神经元易疲劳。  <br><br>解析：<br><br>正确解析：Na⁺流失：动作电位依赖Na⁺内流，Na⁺浓度降低导致去极化幅度不足，信号传递效率下降。<br><br>K⁺流失：静息电位依赖K⁺外流形成的浓度差，K⁺减少使静息电位绝对值降低，神经元更易去极化，引发异常兴奋或疲劳。"
            },
            {
                type: 'choice',
                content: "8.某患者因严重腹泻导致体内钠离子（Na⁺）大量流失，医生诊断为“低钠血症”。结合神经冲动的产生机制，分析该患者的神经细胞可能出现以下哪种现象？",
                options: ["A. 静息电位绝对值增大", "B. 动作电位峰值显著降低", "C. 复极化速度加快", "D. 超极化现象消失"],
                answer: 1,
                explanation: "解析：<br><br>正确选项：B. 动作电位峰值显著降低<br><br>机制：动作电位的峰值由Na⁺内流量决定。患者因腹泻导致细胞外液Na⁺浓度降低，Na⁺内流减少，去极化幅度不足，动作电位峰值下降。<br><br>错误选项分析：<br><br>A. 静息电位由K⁺外流维持，与Na⁺浓度无关。<br><br>C. 复极化依赖K⁺外流，Na⁺浓度降低不影响此过程。<br><br>D. 超极化是复极化后的短暂状态，与Na⁺浓度无直接关系。"
            },
            {
                type: 'essay',
                content: "9.可卡因通过阻断多巴胺转运体引发成瘾。结合突触传递过程，解释吸毒者停药后出现抑郁的原因。  ",
                explanation: "答案：多巴胺在突触间隙持续积累 → 突触后膜受体减少 → 正常多巴胺释放时无法有效传递愉悦信号 → 情绪低落。 <br><br>解析：<br><br>正确解析：<br><br>积累阶段：可卡因阻断多巴胺回收，突触间隙多巴胺浓度持续升高，过度刺激突触后膜受体。<br><br>受体下调：长期高浓度多巴胺导致受体数量减少（负反馈调节）。<br><br>停药后：多巴胺释放量恢复正常，但受体不足，无法传递足够愉悦信号，引发抑郁。<br><br>关联生活：类似机制也见于抗抑郁药物（如SSRIs）的作用，但方向相反。"
            },
            {
                type: 'choice',
                content: "10．在离体神经纤维上，兴奋传导的方向与膜内局部电流方向（　）。",
                options: ["A. 相同", "B. 相反", "C. 无规律", "D. 取决于刺激强度"],
                answer: 0,
                explanation: "正确解析：膜内局部电流由兴奋部位（正电位）流向未兴奋部位（负电位），与兴奋传导方向一致。<br><br>错误选项分析：<br><br>B. 膜外局部电流方向与兴奋传导方向相反，但题目问的是膜内。<br><br>D. 传导方向由离子流动决定，与刺激强度无关。"
            },
            {
                type: 'choice',
                content: "11.某同学设计实验验证兴奋在神经纤维上的双向传导，应选择哪种材料？",
                options: ["A. 完整反射弧", "B. 离体神经纤维", "C. 突触结构", "D. 肌肉组织"],
                answer: 1,
                explanation: "正确解析：离体神经纤维无突触限制，刺激中间点可向两端传导；完整反射弧中突触会限制传导方向。<br><br>错误选项分析：<br><br>C. 突触结构只能单向传递信号，无法验证双向传导。"
            },
            {
                type: 'choice',
                content: "12.在神经纤维产生动作电位的过程中，复极化阶段的主要离子流动机制是（　）。",
                options: ["A. Na⁺内流", "B. K⁺外流", "C. Cl⁻内流", "D. Ca²⁺外流"],
                answer: 1,
                explanation: "正确解析：复极化阶段，Na⁺通道关闭，K⁺通道延迟开放，K⁺顺浓度梯度外流，使膜电位恢复至静息水平（内负外正）。<br><br>错误选项分析：<br><br>A. Na⁺内流发生在去极化和反极化阶段，是动作电位上升支的形成原因。<br><br>C. Cl⁻内流通常与抑制性突触后电位相关，与复极化无关。<br><br>D. Ca²⁺外流主要参与神经递质释放，而非膜电位恢复。"
            },
            {
                type: 'essay',
                content: "13.某实验中将电流计连接于神经纤维a、b两点（ab=bc），刺激b点，电流计指针如何偏转？ ",
                explanation: "答案：先向左偏转，再向右偏转（共两次方向相反的偏转）。 <br><br>解析：<br><br>正确解析：<br><br>兴奋首先到达a点，电流计左侧电极先变为负电位，电流方向为a→b→c，指针向左偏转。<br><br>兴奋随后到达c点，右侧电极变为负电位，电流方向为c→b→a，指针向右偏转。<br><br>错误分析：若误认为兴奋仅单向传导，则可能得出“单次偏转”的错误结论。"
            },
            {
                type: 'choice',
                content: "14.设计实验验证“局部电流是兴奋传导的动力”，需排除哪种干扰因素？  ",
                options: ["A. 神经纤维完整性", "离子通道活性", "C. 突触传递", "D. 能量供应"],
                answer: 2,
                explanation: "正确解析：突触传递依赖化学信号（神经递质），与局部电流的物理传导机制无关。实验中需排除突触干扰，仅观察电流作用。<br><br>错误选项分析：<br><br>D. 能量供应（如ATP）影响钠钾泵活动，但局部电流传导本身不依赖能量。"
            },
            {
                type: 'essay',
                content: "15.电击治疗抑郁症时，电流方向与疗效相关。结合局部电流理论解释原因。 ",
                explanation: "答案：电流方向影响神经纤维兴奋的传导方向，不同方向可能刺激不同脑区。<br><br>解析：<br><br>正确解析：<br><br>正向电流可能激活特定神经通路（如前额叶皮层），改善情绪；<br><br>反向电流可能抑制异常兴奋区域（如杏仁核）。<br><br>关联生活：类似原理应用于经颅磁刺激（TMS）治疗精神疾病。"
            },
            {
                type: 'essay',
                content: "16.某患者因外伤导致坐骨神经损伤，表现为右腿无法运动但仍有痛觉。结合传导方向分析可能损伤部位。 ",
                explanation: "答案：运动神经纤维（传出神经）受损，但传入神经（痛觉）完好。<br><br>解析：<br><br>正确解析：<br><br>运动信号：由传出神经（运动神经元）传导至肌肉，损伤后导致瘫痪。<br><br>痛觉信号：由传入神经（感觉神经元）传导至脊髓，未受损故仍有痛觉。<br><br>错误分析：可能误认为传入神经受损（但痛觉存在说明其功能正常）。"
            },
            {
                type: 'essay',
                content: "17.某药物可增强K⁺通道通透性，推测其对动作电位的影响，并说明理由。",
                explanation: "答案：动作电位幅度降低，复极化加速。K⁺外流增加会抑制去极化。<br><br>解析：<br><br>正确解析：<br><br>去极化抑制：K⁺外流增加会抵消Na⁺内流，降低动作电位峰值。<br><br>复极化加速：K⁺外流增多使膜电位更快恢复至静息状态。<br><br>关联应用：类似药物可用于治疗癫痫（减少异常放电）。"
            },
            {
                type: 'essay',
                content: "18.运动员训练时常通过“冷敷”缓解肌肉酸痛。结合局部电流理论解释其原理。  ",
                explanation: "答案：低温降低离子通道活性 → 局部电流减弱 → 神经冲动传导减慢 → 减少疼痛信号传递。cc解析：<br><br>正确解析：<br><br>通道活性下降：低温使Na⁺、K⁺通道开放速率减慢，动作电位传导速度降低。<br><br>疼痛信号减弱：减缓痛觉神经的冲动传递，减轻酸痛感。<br><br>错误分析：可能误认为冷敷直接阻断突触递质释放（实际作用于膜电位变化）。"
            },
            {
                type: 'choice',
                content: "19.有机磷农药中毒时，患者会出现肌肉持续收缩，原因是（　）。",
                options: ["A. 乙酰胆碱酯酶活性增强", "B. 乙酰胆碱受体被阻断", "C. 乙酰胆碱无法被分解", "D. 钠通道持续开放"],
                answer: 2,
                explanation: "正确解析：有机磷农药抑制乙酰胆碱酯酶活性，导致乙酰胆碱在突触间隙堆积，持续刺激突触后膜，引发肌肉痉挛。<br><br>错误选项分析：<br><br>D. 钠通道持续开放是乌头碱的作用机制，与有机磷无关。"
            },
            {
                type: 'choice',
                content: "20.可卡因成瘾的生理学机制是（　）。 ",
                options: ["A. 促进多巴胺释放", "B. 阻断多巴胺回收", "C. 增加多巴胺受体", "D. 抑制多巴胺合成"],
                answer: 1,
                explanation: "正确解析：可卡因与多巴胺转运体结合，阻止多巴胺被回收至突触前膜，导致突触间隙多巴胺浓度升高。<br><br>错误选项分析：<br><br>A. 可卡因不直接促进释放，而是阻止回收。"
            },
            {
                type: 'choice',
                content: "21.临床使用“封闭针”镇痛时，药物主要作用于（　）。",
                options: ["A. 突触前膜", "B. 突触间隙", "C. 突触后膜受体", "D. 钠通道"],
                answer: 3,
                explanation: "正确解析：封闭针中的普鲁卡因是钠通道阻断剂，抑制动作电位产生，阻断痛觉信号传导。<br><br>错误选项分析：<br><br>C. 若药物作用于受体（如吗啡），则属于另一种镇痛机制。"
            },
            {
                type: 'essay',
                content: "22.长期吸食冰毒（甲基苯丙胺）会导致多巴胺受体减少。解释停药后为何出现抑郁症状。 ",
                explanation: "答案：受体减少 → 正常多巴胺释放无法有效传递信号 → 愉悦感降低 → 情绪低落。  <br><br>解析：<br><br>正确解析：<br><br>受体下调：长期高浓度多巴胺刺激引发负反馈，突触后膜受体数量减少。<br><br>信号减弱：停药后多巴胺释放量正常，但受体不足，无法激活奖赏通路，导致抑郁。<br><br>关联生活：类似机制见于抗抑郁药物需长期服用以调整受体敏感性。"
            },
            {
                type: 'choice',
                content: "23.某患者误服“箭毒”（乙酰胆碱受体阻断剂），可能出现哪些症状？",
                options: ["A. 肌肉松弛", "B. 肌肉痉挛", "C. 呼吸加快", "D. 心跳加速"],
                answer: 0,
                explanation: "正确解析：箭毒阻断神经-肌肉接头的乙酰胆碱受体，导致骨骼肌无法收缩，表现为松弛性瘫痪。<br><br>错误选项分析：<br><br>B. 肌肉痉挛由乙酰胆碱过度作用（如有机磷中毒）引起。"
            },
            {
                type: 'essay',
 content: "24.对比以下两种实验处理对动作电位的影响：<br><br>" +
                        '<table>' +
                        '  <tr>' +
                        '    <th>实验处理</th>' +
                        '    <th>细胞外液Na⁺浓度降低50%</th>' +
                        '    <th>细胞外液K⁺浓度升高50%</th>' +
                        '  </tr>' +
                        '  <tr>' +
                        '    <td>动作电位峰值变化</td>' +
                        '    <td>①</td>' +
                        '    <td>②</td>' +
                        '  </tr>' +
                        '  <tr>' +
                        '    <td>静息电位绝对值变化</td>' +
                        '    <td>③</td>' +
                        '    <td>④</td>' +
                        '  </tr>' +
                        '</table>' +
                        '<br>请结合离子流动机制回答：<br><br>上述①-④处分别会发生怎样的变化？解释其生理学原理。',

                explanation: "答案：<br><br>①显著降低　②基本不变　③无影响　④减小<br><br>解析：<br><br>动作电位峰值：由Na⁺内流量决定，Na⁺浓度降低导致峰值下降（①），K⁺浓度变化不影响动作电位（②）。<br><br>静息电位：由K⁺外流形成的浓度差维持，K⁺浓度升高使膜内外K⁺梯度减小，静息电位绝对值降低（④），Na⁺浓度变化不影响静息电位（③）。<br><br>易错点：<br><br>误认为K⁺浓度变化影响动作电位（实际由Na⁺主导）；<br><br>混淆静息电位与动作电位的离子依赖关系。"
            },
            {
                type: 'essay',
                content: "25.某戒毒所采用“替代疗法”帮助患者缓解毒瘾，如使用美沙酮（阿片受体激动剂）。评价该方法的利弊。",
                explanation: "答案：<br><br>利：缓解戒断症状，减少吸毒危害；  <br><br>弊：可能导致美沙酮成瘾，需严格剂量控制。  <br><br>解析：<br><br>正确解析：<br><br>优势：美沙酮与阿片受体结合，模拟毒品效果，减轻戒断反应（如焦虑、疼痛）。<br><br>风险：长期使用美沙酮同样会引发依赖，需在医生监督下逐步减量。<br><br>关联伦理：替代疗法需权衡短期救治与长期依赖性风险。"
            },
            {
                type: 'essay',
                content: "26.设计实验验证“咖啡因通过增强突触前膜递质释放提神”。  ",
                explanation: "实验思路：  <br><br>1. 取两组突触标本，一组加入咖啡因，另一组不加；  <br><br>2. 刺激突触前神经元，检测突触后膜电位变化。  <br><br>**预期结果**：咖啡因组突触后膜电位变化更显著。  <br><br>**易错点解析**：可能未设置对照或忽略递质释放量的直接测量。<br><br>解析：<br><br>正确解析：<br><br>对照组：正常递质释放 → 后膜电位正常变化。<br><br>实验组：咖啡因促进突触小泡释放递质 → 后膜电位变化增强。<br><br>错误分析：若未设置对照，则无法排除其他因素（如直接作用于受体）。"
            },
            {
                type: 'essay',
                content: "27．某新型毒品'丧尸药'会破坏多巴胺神经元。推测吸食者可能出现的行为异常及生理原因。",
                explanation: "答案：<br><br>行为异常：情绪失控、幻觉、暴力倾向；<br><br>生理原因：多巴胺神经元死亡 → 愉悦信号传递中断 → 大脑奖赏系统紊乱。<br><br>易错点解析：可能误认为多巴胺过多导致亢奋（实际神经元死亡导致信号缺失）。<br><br>解析：<br><br>正确解析：<br><br>多巴胺功能：调节情绪、动机和愉悦感，其神经元损伤导致奖赏通路异常。<br><br>行为表现：无法感知正常愉悦，转而寻求极端刺激（如攻击行为）。<br><br>关联社会：此类毒品危害远超传统毒品，需加强科普宣传。"
            }
        ];

        let currentQuestion = 0;
        let selectedOption = -1;

        function renderQuestion() {
            const container = document.getElementById('questionContainer');
            const completePage = document.getElementById('completePage');
            
            if(currentQuestion >= questions.length) {
                container.style.display = 'none';
                completePage.style.display = 'block';
                return;
            }

            const q = questions[currentQuestion];
            let html = `<div class="question">
                <h3>${q.content}</h3>`;

            if(q.type === 'choice') {
                html += `<div class="options">`;
                q.options.forEach((opt, i) => {
                    html += `<div class="option ${i === selectedOption ? 'selected' : ''}" 
                             onclick="handleSelect(${i})">${opt}</div>`;
                });
                html += `</div>
                <button class="submit-btn" onclick="checkAnswer()">提交答案</button>`;
            } else {
                html += `<p style="color:#666;">（解答题请在纸上作答）</p>
                <button onclick="showExplanation()">查看答案详解</button>`;
            }

            html += `<div class="answer" id="answer"></div>
                <div class="nav-buttons">
                    ${currentQuestion > 0 ? `<button onclick="changeQuestion(-1)">← 上一题</button>` : ''}
                    ${currentQuestion < questions.length-1 ? `<button onclick="changeQuestion(1)">下一题 →</button>` : ''}
                </div>
            </div>`;

            container.innerHTML = html;
        }

        function handleSelect(index) {
            selectedOption = index;
            document.querySelectorAll('.option').forEach((opt, i) => {
                opt.classList.toggle('selected', i === index);
            });
        }

        function checkAnswer() {
            const answerDiv = document.getElementById('answer');
            answerDiv.style.display = 'block';
            
            if(selectedOption === questions[currentQuestion].answer) {
                answerDiv.innerHTML = `<p class="correct">回答正确！！</p>
                    <button onclick="showExplanation()">查看详解</button>`;
            } else {
                answerDiv.innerHTML = `<p class="wrong">答错了哦，再想想~</p>
                    <button onclick="showExplanation()">查看详解</button>`;
            }
        }

        function showExplanation() {
            const answerDiv = document.getElementById('answer');
            answerDiv.style.display = 'block';
            answerDiv.innerHTML = `
                <div class="explanation">
                    ${questions[currentQuestion].explanation}
                </div>
            `;
        }

        function changeQuestion(delta) {
            currentQuestion += delta;
            selectedOption = -1;
            renderQuestion();
        }

        // 初始化渲染
        renderQuestion();

        // 全局暴露函数
        window.handleSelect = handleSelect;
        window.checkAnswer = checkAnswer;
        window.showExplanation = showExplanation;
        window.changeQuestion = changeQuestion;
    </script>
</body>
</html>